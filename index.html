<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
       #map {
         height: 100%;
       }
       html, body {
         height: 100%;
         margin: 0;
         padding: 0;
       }
   </style>
 </head>
 <body>
   <div id="map"></div>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
   <script>

     var map, heatmap;

     function initMap() {
       map = new google.maps.Map(document.getElementById('map'), {
         zoom: 4,
         center: {lat: 37.09024, lng: -95.712891},
         mapTypeId: 'roadmap'
       });

       heatmap = new google.maps.visualization.HeatmapLayer({
         data: getPoints(),
         map: map
       });
     }

     function getPoints() {
       var Location = $.get("http://13.68.219.74/tweets");
       var points = [];
       for (i = 0; i < Location.length; i++) {
         var location = new google.maps.LatLng(Location[i][0], Location[i][1]);
         points.push(location);
       }
      return points
     }

   </script>
   <script async defer
       src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZ68_Iz3U1Wpdo18viv0lV4X0PGO79jhg&libraries=visualization&callback=initMap">
   </script>
 </body>
</html>
